package com.eme.ims.client;import java.util.ArrayList;import java.util.List;import org.apache.mina.core.service.IoHandlerAdapter;import org.apache.mina.core.session.IdleStatus;import org.apache.mina.core.session.IoSession;import android.util.Log;import com.eme.ims.codec.Message;import com.eme.ims.handler.ClientDispatcher;import com.eme.ims.handler.IMessageAdapter;public class ClientHandler  extends IoHandlerAdapter {		private ClientDispatcher clientDispatcher = null;		public ClientHandler(IMessageAdapter iMessageAdapter) {		this.clientDispatcher = ClientDispatcher.getInstance(iMessageAdapter);	}		public void sessionCreated(IoSession session) throws Exception {        //TODO session created.    }    public void sessionOpened(IoSession session) throws Exception {        //TODO session opened    }    public void sessionClosed(IoSession session) throws Exception {        //TODO session closed    }    public void sessionIdle(IoSession session, IdleStatus status) throws Exception {        //TODO session idle    }    public void exceptionCaught(IoSession session, Throwable cause) throws Exception {    	Log.e("ClientHandler", "exception encoutered:"+cause);    }    public void messageReceived(IoSession session, Object messageList) throws Exception {    	Log.e("ClientHandler", "message received...");     	if (messageList instanceof ArrayList) {     		List<Message> list = (ArrayList<Message>) messageList;     		for (Message msg : list) {     			clientDispatcher.dispatch(session, msg);     		}			     	} else {     		Log.e("ClientHandler", "unknow data type");     	}    }    public void messageSent(IoSession session, Object message) throws Exception {        //TODO message sent.    }}